<ion-header translucent>
  <ion-toolbar color="primary">
    <ion-title>Registrar Abono</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="cerrar()">
        <ion-icon name="close-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <ion-card class="resumen-card">
    <ion-card-header>
      <ion-card-title>{{ factura?.cliente }}</ion-card-title>
      <ion-card-subtitle>Factura: {{ factura?._id }}</ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>
      <p><strong>Total:</strong> ${{ factura?.total }}</p>
      <p><strong>Abonado:</strong> ${{ factura?.abono || 0 }}</p>
      <p *ngIf="factura?.total !== undefined">
  <strong>Saldo pendiente:</strong>
  ${{ (factura.total || 0) - (factura.abono || 0) }}
</p>
    </ion-card-content>
  </ion-card>

  <ion-item>
    <ion-label position="floating">Monto a abonar</ion-label>
    <ion-input
      type="number"
      [(ngModel)]="abono"
      min="1"
      inputmode="decimal"
      placeholder="Ej: 5000"
    ></ion-input>
  </ion-item>

  <ion-button expand="block" color="success" class="ion-margin-top" (click)="registrarAbono()">
    <ion-icon slot="start" name="checkmark-outline"></ion-icon>
    Confirmar Abono
  </ion-button>

</ion-content>
